<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INST377 Project - Home</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script> 
</head>
<body>
    <header>
        <h1>üóìÔ∏è Scheduling Navigator</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="find_time.html">Find a Time</a>
            <a href="about.html">About</a>
        </nav>
    </header>

    <main>
        <h2>Welcome to Your Dashboard</h2>
        <p>The <strong>Home Page</strong> displays events and your weekly availability.</p>
        
        <section id="weekly-availability">
            <h3>Weekly Availability Overview (Chart.js)</h3>
            <div style="width: 700px; margin: auto;">
                <canvas id="availabilityChart"></canvas>
            </div>
        </section>
        
        <section id="today-events">
            <h3>Today's Events (Events.list)</h3>
            <p id="todays-events">Loading...</p>
        </section>
        
        <hr>

        <p>Go to <strong><a href="find_time.html">Find a Time</a></strong> to use the core scheduling functionality.</p>
    </main>

    <script>
        // ---------- Chart.js Demo Data ----------
        const busyData = {
            labels: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            datasets: [{
                label: 'Hours Busy',
                data: [1, 4.5, 6, 7.5, 5, 2, 0],
                backgroundColor: 'rgba(74, 144, 226, 0.7)',
                borderColor: 'rgba(56, 115, 182, 1)',
                borderWidth: 1
            }]
        };

        const config = {
            type: 'bar',
            data: busyData,
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 8,
                        title: { text: 'Busy Hours', display: true }
                    }
                },
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'Weekly Availability (Based on Google Calendar Data)' }
                }
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const chartContext = document.getElementById('availabilityChart').getContext('2d');
            new Chart(chartContext, config);

            const eventsEl = document.getElementById('todays-events');
            if (eventsEl) {
                eventsEl.textContent =
                    "No conflicting events today based on your Google Calendar (Events.list). " +
                    "This panel summarizes today's calendar snapshot.";
            }
        });
    </script>
</body>
</html>
